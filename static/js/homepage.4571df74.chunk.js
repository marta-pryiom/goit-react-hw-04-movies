(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[2],{35:function(e,t,n){"use strict";var a=n(41),c=n.n(a),r=n(42),o=n(53),i=n.n(o),s="98a377205a96ff71da3bcf70b617967d";function u(){return u=Object(r.a)(c.a.mark((function e(){var t,n,a,r,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:1,e.prev=1,e.next=4,i.a.get("3/trending/all/day?api_key=".concat(s,"&page=").concat(t));case 4:return n=e.sent,a=n.data,r=a.results,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(1),console.error("Error with fetch movie-list");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),u.apply(this,arguments)}function l(){return(l=Object(r.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("3/search/movie?api_key=".concat(s,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 3:return n=e.sent,a=n.data,r=a.results,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(0),console.error("Error with fetch searching by name");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}i.a.defaults.baseURL="https://api.themoviedb.org/";var v=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("3/movie/".concat(t,"?api_key=").concat(s,"&language=en-US"));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("Error with fetch searching movie by id");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function p(){return(p=Object(r.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("3/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.cast);case 8:e.prev=8,e.t0=e.catch(0),console.error("Error with fetch cast of movie");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function j(){return(j=Object(r.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get("3/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 3:return n=e.sent,a=n.data,e.abrupt("return",a.results);case 8:e.prev=8,e.t0=e.catch(0),console.error("Error with fetch reviews");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var d={getMovies:function(){return u.apply(this,arguments)},searchWordMovie:function(e){return l.apply(this,arguments)},movieInfo:v,movieCast:function(e){return p.apply(this,arguments)},movieReviews:function(e){return j.apply(this,arguments)}};t.a=d},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(36),c=n(0),r=n(2),o=n(35),i=n(45),s=n.n(i),u=n(1);function l(e){var t=e.movieInfo;console.log(t);var n=t.title,a=t.release_date,c=t.poster_path,o=t.overview,i=t.genres,l=t.name,v=c?"https://image.tmdb.org/t/p/w500".concat(c):"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png",p=Object(r.g)(),j=Object(r.f)();console.log(p);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{className:s.a.Button,type:"button",onClick:function(){var e,t;j.push(null!==(e=null===p||void 0===p||null===(t=p.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movie")},children:"Go Back"}),Object(u.jsxs)("article",{className:s.a.MovieArticle,children:[Object(u.jsx)("div",{className:s.a.Card,children:Object(u.jsx)("img",{className:s.a.Image,src:v,alt:n||l})}),Object(u.jsxs)("div",{className:s.a.Box,children:[(n||l)&&Object(u.jsxs)("h1",{children:[n||l,a?Object(u.jsxs)("span",{children:["(",a,")"]}):Object(u.jsx)("span",{children:"(N/A)"})]}),Object(u.jsxs)("div",{className:s.a.OverView,children:[Object(u.jsx)("p",{children:o}),i&&Object(u.jsx)("ul",{className:s.a.Genres,children:i.map((function(e){return Object(u.jsx)("li",{children:e.name},e.id)}))})]})]})]})]})}var v=n(9),p=n(46),j=n.n(p);function d(){var e=Object(r.i)().url;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{className:j.a.LIstAddInfo,children:[Object(u.jsx)(v.c,{className:j.a.Link,activeClassName:j.a.ActiveLink,to:"".concat(e,"/cast"),children:"Cast"}),Object(u.jsx)(v.c,{className:j.a.Link,activeClassName:j.a.ActiveLink,to:"".concat(e,"/reviews"),children:"Reviews"})]})})}var h=n(15),m=Object(c.lazy)((function(){return n.e(1).then(n.bind(null,89))})),b=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,90))}));function f(){var e=Object(r.h)().movieId,t=Object(r.i)().url,n=Object(c.useState)(null),i=Object(a.a)(n,2),s=i[0],v=i[1];return Object(c.useEffect)((function(){try{o.a.movieInfo(e).then(v)}catch(t){}}),[e]),Object(u.jsxs)(u.Fragment,{children:[s&&Object(u.jsx)(l,{movieInfo:s}),s&&Object(u.jsx)(d,{}),Object(u.jsx)(c.Suspense,{fallback:Object(u.jsx)(h.a,{}),children:Object(u.jsxs)(r.c,{children:[Object(u.jsx)(r.a,{exact:!0,path:"".concat(t,"/cast"),children:Object(u.jsx)(m,{movieId:e})}),Object(u.jsx)(r.a,{exact:!0,path:"".concat(t,"/reviews"),children:Object(u.jsx)(b,{movieId:e})})]})})]})}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(2),c=n(9),r=n(43),o=n.n(r),i=n(1),s=function(e){var t=e.title,n=e.poster,a=e.vote,c=e.name,r=n?"https://image.tmdb.org/t/p/w500".concat(n):"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/1665px-No-Image-Placeholder.svg.png";return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{children:Object(i.jsx)("img",{className:o.a.Image,src:r,alt:t||c})}),Object(i.jsxs)("p",{className:o.a.Text,children:[Object(i.jsx)("span",{className:o.a.NameMovie,children:t||c}),a?Object(i.jsx)("b",{className:o.a.voteStyle,children:a}):null]})]})};s.defaultProps={poster:"",vote:null};var u=s,l=n(44),v=n.n(l);function p(e){var t=e.moviesList;console.log(t);var n=Object(a.g)();return console.log(n),Object(i.jsx)("ul",{className:v.a.ListMovie,children:t.length&&t.map((function(e){var t=e.id,a=e.title,r=e.vote_average,o=e.poster_path,s=e.name;return Object(i.jsx)("li",{className:v.a.MovieItem,children:Object(i.jsx)(c.b,{to:{pathname:"movies/".concat(t),state:{from:n}},children:Object(i.jsx)(u,{name:s,title:a,poster:o,vote:r})})},t)}))})}},43:function(e,t,n){e.exports={Image:"MoviePreview_Image__3dpIc",Text:"MoviePreview_Text__gYRtO",NameMovie:"MoviePreview_NameMovie__1JYMO"}},44:function(e,t,n){e.exports={ListMovie:"ListAllMovies_ListMovie__1Q7uZ",MovieItem:"ListAllMovies_MovieItem__2YMrL"}},45:function(e,t,n){e.exports={MovieArticle:"InfoMovieCard_MovieArticle__3WHAp",Image:"InfoMovieCard_Image__3uJvB",Text:"InfoMovieCard_Text__1sARM",Card:"InfoMovieCard_Card__2Q3Ck",OverView:"InfoMovieCard_OverView__N35mE",Box:"InfoMovieCard_Box__3kXOy",Genres:"InfoMovieCard_Genres__fh5Yn",Button:"InfoMovieCard_Button__28xdY"}},46:function(e,t,n){e.exports={LIstAddInfo:"MovieNavigation_LIstAddInfo__1929C",Link:"MovieNavigation_Link__MmHUZ",ActiveLink:"MovieNavigation_ActiveLink__1mFp0"}},47:function(e,t,n){e.exports={Button:"ButtonTop_Button__35thE",Image:"ButtonTop_Image__1q7Xn"}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(47),c=n.n(a),r=n(1);function o(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:c.a.Button,children:Object(r.jsx)("button",{children:Object(r.jsx)("img",{onClick:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},src:"https://img.icons8.com/officel/80/000000/double-up.png",alt:"arrow up",className:c.a.Image})})})})}},82:function(e,t,n){e.exports={Btn:"Button_Btn__R4f8E"}},87:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var a=n(41),c=n.n(a),r=n(62),o=n(42),i=n(36),s=n(0),u=n(2),l=n(35),v=n(40),p=n(39),j=n(15),d=n(82),h=n.n(d),m=n(1);function b(e){var t=e.onClick;return Object(m.jsx)("button",{className:h.a.Btn,onClick:t,type:"button",children:"Load more"})}var f=n(49);function x(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],d=Object(s.useState)(1),h=Object(i.a)(d,2),x=h[0],O=h[1],g=Object(s.useState)(!1),_=Object(i.a)(g,2),w=_[0],I=_[1];Object(s.useEffect)((function(){I(!0);var e=function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.getMovies(x);case 3:t=e.sent,a((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t))})),1!==x&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.prev=11,I(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[x]);return Object(m.jsxs)(u.c,{children:[Object(m.jsxs)(u.a,{exact:!0,path:"/",children:[Object(m.jsx)(v.a,{moviesList:n}),w?Object(m.jsx)(j.a,{}):0!==n.length&&Object(m.jsx)(b,{onClick:function(){I(!0),O((function(e){return e+1})),I(!1)}}),n.length>20&&Object(m.jsx)(f.a,{})]}),Object(m.jsx)(u.a,{path:"/movies/:movieId",component:p.a})]})}}}]);
//# sourceMappingURL=homepage.4571df74.chunk.js.map